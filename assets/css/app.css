/* Font Face Definitions */
@font-face {
  font-family: 'OffBit101';
  src: url('../../assets/fonts/WOFF2/OffBit-101.woff2') format('woff2'),
       url('../../assets/fonts/WOFF/OffBit-101.woff') format('woff'),
       url('../../assets/fonts/TTF/OffBit-101.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
}

@font-face {
  font-family: 'OffBit101Bold';
  src: url('../../assets/fonts/WOFF2/OffBit-101Bold.woff2') format('woff2'),
       url('../../assets/fonts/WOFF/OffBit-101Bold.woff') format('woff'),
       url('../../assets/fonts/TTF/OffBit-101Bold.ttf') format('truetype');
  font-weight: 700;
  font-style: normal;
}

/* Layout helpers */
html, body { height: 100%; }
#game-container { /* sizing is mostly inline to avoid breaking template; keep minimal here */ height: 100%; }

/* Map container fills widget */
.mazemap-container, #map { width: 100%; height: 100%; }

/* Widget */
.maze-map-widget {
  background: #fff;
  border-top-right-radius: 4px;
  border-bottom-left-radius: 4px;
  overflow: hidden;

  display: flex;
  flex-direction: column;

  min-height: 0;
  min-width: 0;
}

/* Sizes: base ratio 460x280 */
.mm-size-s { width: 460px; height: 280px; }
.mm-size-m { width: 690px; height: 420px; }
.mm-size-l { width: 920px; height: 560px; }
#maze-map-ui.mm-round-end .maze-map-widget.mm-size-s,
#maze-map-ui.mm-round-end .maze-map-widget.mm-size-m,
#maze-map-ui.mm-round-end .maze-map-widget.mm-size-l {
  width: 100%;
  height: 100%;
}
.maze-map-widget.mm-size-round-end {
  width: 100%;
  height: 100%;
  min-width: 0;
  min-height: 0;
}


/* map container takes the remaining height of maze-map-widget*/
.maze-map-widget .mazemap-container {
  flex: 1;
  min-height: 0;
  min-width: 0;
}

/* Wrapper stacks controls above the widget and sits bottom-right */
#maze-map-ui {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  z-index: 10;
}

#maze-map-ui.mm-round-end {
  position: fixed;
  bottom: 0;
  right: 0;

  width: clamp(460px, 50vw, 920px);
  height: clamp(280px, 60vh, 560px);

  margin-bottom: 17vh;

  display: flex;
  flex-direction: column;
  align-items: stretch;

  box-sizing: border-box;
  z-index: 10;
}

/* Controls as a standalone top bar (outside the widget) */
.mm-controls {
  position: static;
  display: flex;
  gap: 20px;
  padding: 8px 10px;
  background: rgba(0,0,0,0.5);
  border-top-left-radius: 4px;
  border-top-right-radius: 4px;
  width: 140px;
}

.mm-btn {
  width: 36px;
  height: 36px;
  border: 0;
  border-radius: 50%;
  background: transparent center/contain no-repeat;
  cursor: pointer;
}

.mm-btn.mm-expand   { background-image: url("../../assets/img/controls/button-expand-default.png"); }
.mm-btn.mm-minimise { background-image: url("../../assets/img/controls/button-minimise-default.png"); }

.mm-btn.mm-pin      { background-image: url("../../assets/img/controls/button-pin-default.png"); }
/* Pin inactive uses the disabled image; active uses default above */
.mm-btn.mm-pin[aria-pressed="false"] { background-image: url("../../assets/img/controls/button-pin-disabled.png"); }

.mm-btn:hover.mm-expand   { background-image: url("../../assets/img/controls/button-expand-hover.png"); }
.mm-btn:hover.mm-minimise { background-image: url("../../assets/img/controls/button-minimise-hover.png"); }
.mm-btn:hover.mm-pin      { background-image: url("../../assets/img/controls/button-pin-hover.png"); }

.mm-btn:disabled.mm-expand   { background-image: url("../../assets/img/controls/button-expand-disabled.png"); }
.mm-btn:disabled.mm-minimise { background-image: url("../../assets/img/controls/button-minimise-disabled.png"); }

/* Guess Button - matches widget width, fixed height */
.mm-guess-btn {
  height: 48px;
  margin-top: 8px;
  border: 0;
  border-radius: 4px;
  font-family: 'OffBit101Bold';
  font-size: 24px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  box-sizing: border-box;
  /* Width will be set dynamically by JavaScript to match widget */
}

/* Button states */
.mm-guess-btn:disabled {
  background-color: rgba(211, 31, 64, 0.5); /* Red with reduced opacity */
  color: #FFFFFF;
  cursor: not-allowed;
}

.mm-guess-btn:not(:disabled) {
  background-color: #1E04A9; /* Blue */
  color: white;
}

.mm-guess-btn:not(:disabled):hover {
  background-color: #6D6CCB; /* Darker blue on hover */
}

.mm-guess-btn:not(:disabled):active {
  background-color: rgb(3, 43, 85); /* Even darker on click */
}


